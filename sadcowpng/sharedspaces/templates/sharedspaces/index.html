{% extends 'sharedspaces/account_header.html' %}
{% load static %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'map.css' %}">
{% endblock %}

{% block content %}
    <!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8">
            {% block title %}
                <title>Shared Spaces</title>
            {% endblock %}
            <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
            <script type = "text/javascript" src= "../../static/mapsFunction.js">
                // remeber when jimmy had some nice code here to use the map?
                // moved it to a file called "mapsFunction.js"
                // over in the static folder (where all the .css)
            </script>
        </head>
        <body>
            <div class = "search_bar">
                <form  action="" method="post">
                    {% csrf_token %}
                    <input name="query" id= "query" type= text placeholder="Search Space Information Here..." size="35" align = "center" >
                    <select name="filters" id="filters">
                        <option value="all">All</option>
                        <option value="space">Space</option>
                        <option value="date">Date</option>
                    </select>
                    <input class="space_submit_button" type="submit" value="Search">
                    <input class="space_submit_button" type="reset" value="Clear">
                </form>
            </div>
            <!-- Google Maps API makes a callback to initMap(). Moving JavaScript to an external file is ideal, but
                 there have been issues with Google Maps being unable to find the initMap() function outside of this
                 file due to weird JavaScript scope and closure fun. -->
            <div id="map"></div>
            <script src="https://maps.googleapis.com/maps/api/js?key={{maps_api_key}}&callback=initMap&libraries=&v=weekly" 
                    async>
            </script>
        </body>
    </html>
{% endblock %}
